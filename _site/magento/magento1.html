<!DOCTYPE html> <html class="no-js" lang="pt"> <head> <!-- Standard Meta --> <link href="https://mozg.com.br/" rel="alternate"/> <meta charset="utf-8"/> <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/> <!-- Refer HTML5BP and https://developers.google.com/speed/docs/insights/ConfigureViewport --> <meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" name="viewport"/> <!-- Site Properities --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Magento1 | MOZG</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="Magento1" /> <meta name="author" content="Marcio Amorim" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Nesse artigo será exibido detalhadamente os processos feito via terminal para a instalação usando o Composer" /> <meta property="og:description" content="Nesse artigo será exibido detalhadamente os processos feito via terminal para a instalação usando o Composer" /> <link rel="canonical" href="http://mozg.com.br/magento/magento1" /> <meta property="og:url" content="http://mozg.com.br/magento/magento1" /> <meta property="og:site_name" content="MOZG" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2016-04-26T11:01:02-03:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Magento1" /> <meta name="twitter:site" content="@mozgbrasil" /> <meta name="twitter:creator" content="@Marcio Amorim" /> <meta property="fb:admins" content="190289028000894" /> <meta property="article:publisher" content="190289028000894" /> <meta property="fb:app_id" content="190289028000894" /> <meta name="google-site-verification" content="google7b4e5e32dda0c66d" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Marcio Amorim"},"dateModified":"2016-04-26T11:01:02-03:00","datePublished":"2016-04-26T11:01:02-03:00","description":"Nesse artigo será exibido detalhadamente os processos feito via terminal para a instalação usando o Composer","headline":"Magento1","mainEntityOfPage":{"@type":"WebPage","@id":"http://mozg.com.br/magento/magento1"},"url":"http://mozg.com.br/magento/magento1"}</script> <!-- End Jekyll SEO tag --> <link rel="alternate" type="application/rss+xml" title="MOZG" href="http://mozg.com.br/feed.xml"/> <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"/> <link href="/favicon.ico" rel="icon" type="image/x-icon"/> <!-- Google Authorship Markup --> <link href="https://plus.google.com/117231578401378218759?rel=author" rel="author"/> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content="Magento1"/> <meta itemprop="description" content="Nesse artigo será exibido detalhadamente os processos feito via terminal para a instalação usando o Composer"/> <meta itemprop="image" content="http://mozg.com.br/assets/images/logos/logo_32_32.png"/> <!-- publisher --> <link href="https://plus.google.com/117178438811960262290" rel="publisher"/> <!-- https://analytics.google.com/analytics/web/#/a73869264w111913189p116897200/admin/tracking/tracking-code/ --> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73869264-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag("js", new Date()); gtag("config", "UA-73869264-1"); </script> <!-- https://tagmanager.google.com/?hl=en#/container/accounts/491416460/containers/2618425/workspaces/6 --> <!-- Google Tag Manager --> <script> (function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != "dataLayer" ? "&l=" + l : ""; j.async = true; j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl; f.parentNode.insertBefore(j, f); })(window, document, "script", "dataLayer", "GTM-PNT4KQ"); </script> <!-- End Google Tag Manager --> <!-- Theme --> <link href="/assets/css/style.css" rel="stylesheet"/> <!-- jQuery first, then Popper.js, then Bootstrap JS --> <script src="/assets/js/jquery-3.6.0.slim.min.js" type="text/javascript"></script> <script src="/assets/js/bootstrap-5.0.1.bundle.min.js" type="text/javascript"></script> <!-- anchor --> <script src="/assets/js/anchor-4.3.1.min.js" type="text/javascript"></script> <script type="text/javascript"> window.addEventListener("load", function () { anchors.add(".anchorar h1, .anchorar h2, .anchorar h3, .anchorar h4, .anchorar h5, .anchorar h6"); }, false); </script> <!-- https://www.google.com/adsense/ --> <script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7927094983433027"></script> </head> <body> <script src="/assets/js/font-awesome-5.15.3.min.js"></script> <script src="/assets/js/aos-2.3.4.js"></script> <script> AOS.init({ easing: 'ease-out-back', duration: 1000 }); </script> <style> .scroll-top { position: fixed; display: block; bottom: 1.5625rem; right: 1.5625rem; z-index: 999; background: rgba(255, 255, 255, 0.9); height: 2.375rem; width: 2.375rem; line-height: 2.25rem; text-align: center; font-size: 0.875rem; border-radius: 100%; box-shadow: 0 0 0 5px rgba(0, 0, 0, 0.05); transition: 0.5s all ease; transform: translateY(4.25rem); color: #788487; } .scroll-top.scroll-top-visible { transform: translateY(0); } .scroll-top:hover { transform: translateY(-0.3125rem); } @media (max-width: 767.98px) { .scroll-top { display: none; } } </style> <script> // // Scroll to top // $(window).on('scroll', function () { if ($(this).scrollTop() > 300) { $('.scroll-top').addClass('scroll-top-visible'); } else { $('.scroll-top').removeClass('scroll-top-visible'); } }); </script> <a class="scroll-top" href="#top"><i class="fas fa-angle-up"></i></a> <!-- Google Tag Manager (noscript) --> <noscript> <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-PNT4KQ" style="display:none;visibility:hidden" width="0"></iframe> </noscript> <!-- End Google Tag Manager (noscript) --> <header class=" "> <nav class="navbar navbar-expand-md navbar-dark mb-1"> <div class="container-fluid"> <div class="text-center"> <a class=" " href="/"> <img alt="" class="d-inline-block align-top" src="/assets/images/logos/Russian_Army_Star.svg" width="50"> </a> <p> <span class="badge bg-dark">MOZG</span> </p> </div> <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbarSupportedContent" data-bs-toggle="collapse" type="button"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarSupportedContent"> <ul class="navbar-nav me-auto mb-2 mb-lg-0"> <li class="nav-item "> <a class="nav-link " href="/">Visão geral</a> </li> <li class="nav-item "> <a class="nav-link " href="/sobre-nos/">Sobre</a> </li> <li class="nav-item "> <a class="nav-link " href="/artigos/">Artigos</a> </li> <li class="nav-item "> <a class="nav-link " href="/contato/">Contato</a> </li> </ul> </div> </div> </nav> </header> <main class="bd-content main-/magento/magento1"> <div class="jumbotron"> <div class="container"> <h1>Magento1</h1> <p>Nesse artigo será exibido detalhadamente os processos feito via terminal para a instalação usando o Composer</p> </div> </div> <div class="container"> <div class="anchorar"> <div class="row"> <div class="col-md-12"> <p>Ola</p> <p>Sempre utilize como base as referências presentes na documentação da plataforma</p> <p><a href="https://magento.com/resources/technical">https://magento.com/resources/technical</a></p> <p>Sugiro ler a documentação do Magento 1 para uma melhor experiencia no uso da plataforma</p> <p><a href="http://docs.magento.com/m1/ce/user_guide/Magento_Community_Edition_User_Guide.html">http://docs.magento.com/m1/ce/user_guide/Magento_Community_Edition_User_Guide.html</a></p> <p>Execute os comandos efetuando as devidas alterações personalizando para seu projeto</p> <h1 id="criação-de-diretório-e-atualização-do-composer">Criação de diretório e atualização do Composer</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd ~/dados/public_html ;\
pwd ;\
ls ;\
mkdir magento-1.9.3.2-dev35 ;\
cd magento-1.9.3.2-dev35 ;\
composer --version &amp;&amp; sudo composer self-update &amp;&amp; composer clear-cache
</code></pre></div></div> <h1 id="download-magento">Download Magento</h1> <h1 id="httpsdocsmagentocomm1ceuser_guidemagentosystem-requirementshtml"><a href="https://docs.magento.com/m1/ce/user_guide/magento/system-requirements.html">https://docs.magento.com/m1/ce/user_guide/magento/system-requirements.html</a></h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># https://razbakov.com/blog/install-magento-via-composer
#
# Quando aparecer "please define your magento root dir [root]"
#
# altere para "magento" e tecle ENTER, isso irá instalar o Magento nessa pasta "magento"

composer require magento-hackathon/magento-composer-installer ~3.0 ;\
composer require aydin-hassan/magento-core-composer-installer ~1.2 ;\
composer require firegento/magento ~1.9.4.0 ;\
composer update -vvv --profile
</code></pre></div></div> <!-- # Comentado devido ao erro https://github.com/firegento/magento/issues/51# # FIX: new root folder to current folder # Na edição do composer.json altere para # "magento-root-dir": "./" rm ./root/composer.json ;\ rm ./root/README.md ;\ mv ./root/{.[!.],}* . ;\ rm -fr ./root ;\ nano composer.json --> <h1 id="criar-banco-de-dados">Criar Banco de dados</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysqladmin -u root -p CREATE "magento-1.9.3.2-dev35"
</code></pre></div></div> <h1 id="sample-data">Sample Data</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd root
</code></pre></div></div> <p>git clone <a href="https://github.com/haifeng-ben-zhang/magento1.9.2.4-sample-data.git">https://github.com/haifeng-ben-zhang/magento1.9.2.4-sample-data.git</a></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp -ri magento1.9.2.4-sample-data/media/* magento/media/
</code></pre></div></div> <p>cp -ri magento1.9.2.4-sample-data/skin/* magento/skin/</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql -h 'db4free.net' -P '3306' -u 'udb4free' -p'???' 'hdb4free' &lt; 'magento1.9.2.4-sample-data/magento_sample_data_for_1.9.2.4.sql'

rm -fr magento1.9.2.4-sample-data
</code></pre></div></div> <h1 id="instalar-magento">Instalar Magento</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php -f magento/install.php -- \
--license_agreement_accepted "yes" \
--locale "pt_BR" \
--timezone "America/Sao_Paulo" \
--default_currency "BRL" \
--db_host "db4free.net:3306" \
--db_name "hdb4free" \
--db_user "udb4free" \
--db_pass "???" \
--url "https://heroku-magento-mozg.herokuapp.com/magento/" \
--skip_url_validation "yes" \
--use_rewrites "yes" \
--use_secure "no" \
--secure_base_url "" \
--use_secure_admin "no" \
--admin_firstname "Marcio" \
--admin_lastname "Amorim" \
--admin_email "mailer@mozg.com.br" \
--admin_username "admin" \
--admin_password "123456a"
</code></pre></div></div> <h1 id="httpsgithubcomkalcaddlekodexplorerinstall"><a href="https://github.com/kalcaddle/KodExplorer#install">https://github.com/kalcaddle/KodExplorer#install</a></h1> <h1 id="permissões">Permissões</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod 777 -R .
</code></pre></div></div> <h1 id="magento-shell">Magento /shell</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo -e "\e[1;33m --(Processo 1)-- \e[0m" ;\
php shell/compiler.php --state ;\
echo -e "\e[1;33m --(Processo 2)-- \e[0m" ;\
php shell/log.php --clean ;\
echo -e "\e[1;33m --(Processo 3)-- \e[0m" ;\
php shell/indexer.php --status ;\
echo -e "\e[1;33m --(Processo 4)-- \e[0m" ;\
php shell/indexer.php --info ;\
echo -e "\e[1;33m --(Processo 5)-- \e[0m" ;\
php shell/indexer.php --reindexall
</code></pre></div></div> <h1 id="magento-mage-command-line">Magento ./mage command-line</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Install Extensions via MagentoConect

echo -e "\e[1;33m --(Processo 1)-- \e[0m" ;\
./mage ;\
echo -e "\e[1;33m --(Processo 2)-- \e[0m" ;\
./mage mage-setup ;\
echo -e "\e[1;33m --(Processo 3)-- \e[0m" ;\
./mage sync ;\
echo -e "\e[1;33m --(Processo 4)-- \e[0m" ;\
./mage list-installed ;\
echo -e "\e[1;33m --(Processo 5)-- \e[0m" ;\
./mage list-upgrades ;\
echo -e "\e[1;33m --(Processo 6)-- \e[0m" ;\
./mage install http://connect20.magentocommerce.com/community Mage_Locale_pt_BR
</code></pre></div></div> <h1 id="instalar-extensões-via-composer">Instalar extensões via Composer</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Certique se da existencia do arquivo composer.json na raiz do projeto Magento e que o mesmo tenha os trechos "minimum-stability", "prefer-stable", "repositories" e "magento-root-dir"

cd .. ;\
nano composer.json ;\
composer diagnose &amp;&amp; composer show -i ;\
composer require connect20/mage_locale_pt_br ;\
composer require aschroder/smtp_pro ;\
composer require aoepeople/aoe_scheduler ;\
composer require magento-hackathon/hackathon_magemonitoring ;\
composer require jayelkaake/enhancedgrid ;\
composer require husseycoding/customordergrid ;\
composer require mozgbrasil/magento-brasil-regions ;\
composer require mozgbrasil/magento-iwd-opc ;\
composer require connect20/clarion_customerattribute ;\
composer require madalinoprea/magneto-debug ;\
composer require connect20/fooman_sameorderinvoicenumber ;\
composer require connect20/pedroteixeira_correios

# As Urls abaixo aponta para a descrição de cada módulo

# https://www.magentocommerce.com/magento-connect/magento-official-portuguese-translation.html
# http://packages.firegento.com/#aschroder/smtp_pro
# https://packagist.org/packages/aoepeople/aoe_scheduler
# http://packages.firegento.com/#magento-hackathon/hackathon_magemonitoring
# http://packages.firegento.com/#jayelkaake/enhancedgrid
# http://packages.firegento.com/#husseycoding/customordergrid
# https://packagist.org/packages/mozgbrasil/magento-iwd-opc
# https://www.magentocommerce.com/magento-connect/customer-attributes-extra-fields-for-registration-form-1.html

# Config aschroder/smtp_pro

# smtppro/general/option 				smtp
# smtppro/general/smtp_authentication	login
# smtppro/general/smtp_username			mailer@mozg.com.br
# smtppro/general/smtp_password			???
# smtppro/general/smtp_host				smtp.zoho.com
# smtppro/general/smtp_port				465
# smtppro/general/smtp_ssl				ssl

# Config SQL

# SELECT * FROM `core_config_data` WHERE `value` like '%@%';
</code></pre></div></div> <h1 id="instalar-extensões-via-terminal">Instalar extensões via terminal</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd root ;\
wget http://mariosam.com.br/wp-content/uploads/2013/02/Traducao_Magento_ptBR_19xx_MarioSAM_v12.zip ;\
unzip Traducao_Magento_ptBR_19xx_MarioSAM_v12.zip ;\
cp -fr Traducao_Magento_ptBR_19xx_MarioSAM/pt_BR/* ./app/locale/pt_BR/ ;\
rm -fr Traducao_Magento_ptBR_19xx_MarioSAM __MACOSX Traducao_Magento_ptBR_19xx_MarioSAM_v12.zip
</code></pre></div></div> <h1 id="usando-links-simbólicos-no-magento">Usando links simbólicos no Magento</h1> <p>Copie os arquivos .htaccess e index.php da pasta onde se encontra o Magento e coloque na raiz do projeto em seguida execute os comandos para criação dos links simbólicos</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s root/app
ln -s root/errors
ln -s root/includes
ln -s root/js
ln -s root/lib
ln -s root/media
ln -s root/skin
ln -s root/var
ln -s root/sitemap
</code></pre></div></div> <h1 id="habilitar-exibição-do-erro-no-magento">Habilitar exibição do erro no Magento</h1> <p>No magento edite o arquivo index.php e retire o comentário # devendo ficar como abaixo</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ini_set('display_errors', 1);
</code></pre></div></div> <h1 id="ativar-modo-desenvolvedor-no-magento">Ativar modo desenvolvedor no Magento</h1> <p>Edite o arquivo .htacces e adicione</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SetEnv MAGE_IS_DEVELOPER_MODE "true"
</code></pre></div></div> <p>Esse recurso é legal pois exibe os erros de scripts</p> <p>O uso desse recurso pode gerar alguns erros como por exemplo</p> <p>Warning: include(StaLib/Logger.php): failed to open stream: No such file or directory in /home/marcio/dados/public_html/magento-1.9.3.2-dev35/root/lib/Varien/Autoload.php on line 94</p> <p>O fato de existir o script abaixo em qualquer controller já dispara o erro acima</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (class_exists('\StaLib_Logger')) {}
</code></pre></div></div> <h1 id="visualizar-erros-do-servidor">Visualizar erros do servidor</h1> <p>No terminal pode ser o comando para a visualização do log de erro do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  tail -f /var/log/apache2/error.log
</code></pre></div></div> <h1 id="dicas">Dicas</h1> <p>Ola</p> <p>Abaixo varias dicas para o Magento</p> <h2 id="erro-call-to-a-member-function-getfullactionname-on-null-appcodelocalcerebrumtelencephalonmodeladminhtmlobserverphp">Erro: Call to a member function getFullActionName() on null /???/app/code/local/Cerebrum/Telencephalon/Model/Adminhtml/Observer.php</h2> <p>Faça o seguinte</p> <p>Guarde o arquivo</p> <p>/app/code/local/Cerebrum/Telencephalon/Model/Adminhtml/Observer.php</p> <p>Renomeando o mesmo</p> <p>Efetue download do arquivo</p> <p><a href="https://github.com/cerebrumgit/magento1-telencephalon-php56/raw/master/app/code/local/Cerebrum/Telencephalon/Model/Adminhtml/Observer.php">https://github.com/cerebrumgit/magento1-telencephalon-php56/raw/master/app/code/local/Cerebrum/Telencephalon/Model/Adminhtml/Observer.php</a></p> <p>E coloque em</p> <p>/app/code/local/Cerebrum/Telencephalon/Model/Adminhtml/</p> <h2 id="erro-modelo-base-coolbabyconfigcategory_attribute_source_type_yesno-não-encontrado-para-o-atributo-bs_menuadvanced">Erro: Modelo base “coolbabyconfig/category_attribute_source_type_yesno” não encontrado para o atributo “bs_menuadvanced”</h2> <p>Esse erro é exibido devido a ausência do módulo “Etheme_Coolbabyconfig” e por haver um atributo no banco de dados relacionado ao módulo</p> <p>A seguir temos uma instrução SQL que retorna o registro relacionado a esse módulo</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM eav_attribute WHERE source_model like '%coolbabyconfig%'
</code></pre></div></div> <p>A seguir temos uma instrução SQL que altera o registro relacionando a um modelo de dados nativo do Magento</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE eav_attribute SET source_model = 'eav/entity_attribute_source_table' WHERE source_model like '%coolbabyconfig%'
</code></pre></div></div> <h2 id="erro-modelo-base-pedroteixeira_correiossource_postmethods-não-encontrado-para-o-atributo-postmethods">Erro: Modelo base “pedroteixeira_correios/source_postMethods” não encontrado para o atributo “postmethods”</h2> <p>Esse erro é exibido devido a ausência do módulo “PedroTeixeira_Correios” e por haver um atributo no banco de dados relacionado ao módulo</p> <p>A seguir temos uma instrução SQL que retorna o registro relacionado a esse módulo</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM eav_attribute WHERE source_model like '%pedroteixeira%'
</code></pre></div></div> <p>Vemos que se trata de um registro “multiselect” que é usado para o campo “Serviços de Entrega” que é exibido no gerenciamento de produtos</p> <p>A seguir temos uma instrução SQL que altera o registro relacionando a um modelo de dados nativo do Magento</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE eav_attribute SET source_model = 'eav/entity_attribute_source_table' WHERE source_model like '%pedroteixeira%'
</code></pre></div></div> <h2 id="modelo-base-idecheckoutvmcustomer_attribute_source_pessoa_view-não-encontrado-para-o-atributo-tipo_pessoa">Modelo base “idecheckoutvm/customer_attribute_source_pessoa_view” não encontrado para o atributo “tipo_pessoa”</h2> <p>Esse erro é exibido devido a ausência do módulo “Ideasa_IdeCheckoutvm” e por haver um atributo no banco de dados relacionado ao módulo</p> <p>A seguir temos uma instrução SQL que retorna o registro relacionado a esse módulo</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM eav_attribute WHERE source_model like '%idecheckoutvm%'
</code></pre></div></div> <p>A seguir temos uma instrução SQL que altera o registro relacionando a um modelo de dados nativo do Magento</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE eav_attribute SET source_model = 'eav/entity_attribute_source_table' WHERE source_model like '%idecheckoutvm%'
</code></pre></div></div> <h1 id="configuração-não-está-sendo-salva-no-magento">Configuração não está sendo salva no Magento</h1> <p>Analisando o log do servidor em /var/log/apache2/error.log</p> <p>Temos o armazenamento do seguinte erro</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PHP Warning:  Unknown: Input variables exceeded 1000. To increase the limit change max_input_vars in php.ini. in Unknown on line 0
</code></pre></div></div> <p>Sugiro alterar no php.ini o parâmetro “max_input_vars” para “3000”</p> <p>Pode ser necessário reiniciar o servidor</p> <p>Acessando o phpinfo e pesquisando por “max_input_vars” podemos visualizar o valor</p> <h1 id="cartões-de-crédito-para-testes">Cartões de crédito para testes</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Amex            376488977091001
Visa            4073020000000002
MasterCard      5555666677778884
Discover        6011000990139424
Dinners         36201475131126
JCB             3566002020360505
ELO             4514166365215946
Aura            5078601800003247449
Maestro         6759649826438453
HiperCard       6062825624254001
Hiper(Other)    6370950000000000
</code></pre></div></div> <p>Encontrei o número para o cartão hiper pesquisando no google imagens onde é exibido uma imagem do itaú, o restante das numerações foram encontrada em sites diversos na NET</p> <h1 id="importar-produtos-do-magento-para-o-google-merchant-center">Importar produtos do Magento para o Google Merchant Center</h1> <p><a href="https://support.google.com/merchants/answer/6351224?hl=pt-BR">https://support.google.com/merchants/answer/6351224?hl=pt-BR</a></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require connect20/google_shoppingconnect
</code></pre></div></div> <h1 id="ocorreu-erro-na-loja-ou-processo-não-está-se-comportando-como-deveria">Ocorreu erro na loja ou processo não está se comportando como deveria</h1> <p>Sugiro seguir as orientações abaixo para resolução de ocorrências no Magento</p> <h2 id="processo-rápido">PROCESSO RÁPIDO</h2> <p>A intenção é desativar todos os módulos de terceiros até encontrar a causa da ocorrência</p> <p>A base dos módulos desenvolvidos por terceiros para a plataforma Magento é separado em 2 diretórios “community” e “local”</p> <p>Renomeie a seguinte pasta /app/code/community/, dessa forma todos os módulos do ambiente “community” não deve ser carregado no Magento Renomeie as pastas abaixo de /app/code/local/, não renomeie a pasta do módulo suspeito, dessa forma todos os módulos do ambiente “local” não deve ser carregado no Magento, com exceção do módulo suspeito</p> <p>Efetue os testes</p> <p>Caso o processo venha a funcionar é provável estar ocorrendo conflitos entre módulos, então retorne um diretório de cada vez e efetue teste até encontrar o módulo causador da ocorrência</p> <p>Se o processo acima não funcionar tente o “Processo detalhado” abaixo</p> <h2 id="processo-detalhado">PROCESSO DETALHADO</h2> <p>Sugiro que faça o seguinte.</p> <p>Veja qual é a versão do Magento utilizada no desenvolvimento da sua loja virtual.</p> <p>Depois baixe essa mesma versão por intermédio do link a seguir, clicando na aba “Release Archives”</p> <p><a href="http://www.magentocommerce.com/download">http://www.magentocommerce.com/download</a></p> <p>Monte um ambiente de teste com o MAGENTO “Cru” e instale somente o módulo suspeito e efetue os devidos testes.</p> <p>Se apresentar algum problema informe o desenvolvedor do módulo para analise da ocorrência.</p> <p>Em seguida você pode estar colocando cada requerimento como módulos de terceiros ou template em seu projeto e testando a cada requerimento, dessa forma é possível encontrar a causa do problema.</p> <p>Dessa forma é possivel saber se o conflito parte de algo relativo a arquivo ou banco de dados.</p> <p>Outra possibilidade</p> <p>Baixe o seu projeto e reproduza em seu ambiente local</p> <p>Se funcionar é um indicativo relativo a algo no seu servidor como o uso de Cache ou falta de permissão nos arquivos</p> <h2 id="comparaçôes-de-projetos">COMPARAÇÔES DE PROJETOS</h2> <p>Com o novo projeto de teste funcionando perfeitamente</p> <p>Agora caso queira falta encontrar a causa da ocorrência podendo ser algo em “banco de dados” ou nos “scripts do projeto”</p> <p>Efetue o backup do banco de dados do projeto que tem a ocorrência do erro e crie um novo banco de dados importando esse backup.</p> <p>Configure o projeto de teste para utilizar esse novo banco de dados e efetue os testes, dessa forma é possível saber se a ocorrência está relacionada a algo no “banco de dados” ou nos “scripts do projeto”</p> <p>Para comparação de scripts eu utilizo a Software Meld</p> <h1 id="login-no-backend-não-retorna-nada">Login no backend não retorna nada</h1> <p>A empresa de hospedagem aumentou o espaço em disco e funcionou como esperado</p> <h1 id="erro-warning-inet_pton-unrecognized-address-1772324999-127001--in-appcodecoremagecorehelperhttpphp-on-line-149">Erro: Warning: inet_pton(): Unrecognized address 177.23.249.99, 127.0.0.1 in /app/code/core/Mage/Core/Helper/Http.php on line 149</h1> <p>Esse erro foi exibido quando foi colocado o seguinte item no .htaccess</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SetEnv MAGE_IS_DEVELOPER_MODE "true"
</code></pre></div></div> <h1 id="como-ativar-a-cron-no-magento">Como ativar a CRON no Magento</h1> <p>Sugiro instalar via Composer o módulo <a href="https://github.com/AOEpeople/Aoe_Scheduler">Aoe_Scheduler</a> para Gerenciamento de serviços da <a href="https://pt.wikipedia.org/wiki/Crontab">CRON</a></p> <p>Para instalar o módulo execute o comando a seguir no terminal do seu servidor no diretório do seu projeto</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require aoepeople/aoe_scheduler
</code></pre></div></div> <p>No backend do Magento em Sistema -&gt; Scheduler -&gt; Instructions, está documentado o script para adicionar ao crontab</p> <p>No terminal ao executar o comando</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab -e
</code></pre></div></div> <p>Pode ser informado a(s) linha(s) de comando a serem executadas</p> <p>Pode ocorrer de alguns servidores não permitiram o uso do crontab no formato nativo do sistema operacional, sendo oferecido essa configuração por algum painel de controle, nesses casos deve se entrar em contato com o suporte da hospedagem solicitando para eles adicionarem o script ao crontab ou instruções de como fazer o processo</p> <p>Outra possibilidade</p> <p>Seria a configuração conforme documentação do magento</p> <p><a href="http://devdocs.magento.com/guides/m1x/install/installing_install.html#install-cron">http://devdocs.magento.com/guides/m1x/install/installing_install.html#install-cron</a></p> <p>No terminal ao executar o comando</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crontab -e
</code></pre></div></div> <p>Pode ser informado qualquer um dos modelos de comandos a seguir</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*/1 * * * * /bin/sh -x /home/marcio/dados/public_html/magento-1.9.2.4-dev31/cron.sh &gt;&gt; /home/marcio/dados/public_html/magento-1.9.2.4-dev31/var/log/magento.cron.log&amp;

*/1 * * * * curl -s -o /dev/null http://SUA_URL/magento-1.8.0.0-dev02/cron.php &gt;&gt; /home/marcio/dados/public_html/magento-1.9.2.4-dev31/var/log/magento.cron.log&amp;

*/1 * * * * php /home/marcio/dados/public_html/magento-1.9.0.1-dev06/cron.php &gt;&gt; /home/marcio/dados/public_html/magento-1.9.2.4-dev31/var/log/magento.cron.log&amp;
</code></pre></div></div> <p>Veja que o primeiro modelo acessa via shell o arquivo cron.sh do Magento</p> <p>Veja que o segundo modelo acessa via curl o arquivo cron.php do Magento</p> <p>Veja que o terceiro modelo acessa via php-client o arquivo cron.php do Magento</p> <p>Vemos que cada comando tem o armazenamento do resultado em arquivo, dessa forma podemos visualizar no horário do arquivo se foi feito alterações</p> <p>Você pode usar qualquer um dos modelos acima ou qualquer tecnologia que faz acesso ao devido arquivo do Magento</p> <p>Esse modelo está baseado em meu ambiente local, portanto pode haver variação para cada ambiente</p> <p>_</p> <p>Para o caso de ambiente com versões discrepante entre o PHP WEB e CLI</p> <p>Deve ser editado o arquivo cron.sh</p> <p>Comentando a antiga variavel e adicionando a nova</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PHP_BIN='/usr/bin/php56'
</code></pre></div></div> <p>Isso é necessário pois no ambiente PHP WEB foi exibido a versão 5.6 e no ambiente CLI exibido a versão 5.4</p> <p>Portanto quando executado o comando</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php -v
</code></pre></div></div> <p>Era retornado o PHP 5.4, consequentemente o script é processado sobre essa versão 5.4</p> <h1 id="erro-de-servidor-error-500-ou-tela-branca">Erro de servidor: “error 500” ou “tela branca”</h1> <p>A informação “error 500” se trata da omissão do erro devendo ser analisado o erro no log do servidor</p> <p>Todo o erro gerado no servidor é armazenado no log a causa do erro</p> <p>Execute o seguinte comando no terminal do seu servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tail -f /var/log/apache2/error.log

tail -f /home/marcio/var/php-fpm/error.log
</code></pre></div></div> <p>Acesse o projeto até gerar o erro</p> <p>Será exibido no log a causa do erro</p> <p>Efetuando pesquisa sobre o erro geralmente é encontrado a solução</p> <p>Agora é somente aplicar a devida correção sobre o seu servidor</p> <h3 id="habilitar-exibição-do-erro-no-magento-1">Habilitar exibição do erro no Magento</h3> <p>No magento edite o arquivo index.php e atualize a linha</p> <p>DE</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#ini_set('display_errors', 1);
</code></pre></div></div> <p>PARA</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ini_set('display_errors', 1);
</code></pre></div></div> <h1 id="cotação-de-moedas-magento-cambio">Cotação de Moedas, Magento Cambio</h1> <h2 id="habilitando-moedas">Habilitando moedas</h2> <p>Assim que instalamos o Magento, por padrão, ele carrega diversas moedas. Mas o normal seria utilizarmos apenas uma (ou duas) moedas no sistema.</p> <p>Então carregar menos moedas no sistema é mais inteligente e otimizado para sua loja. Para isso acesse:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Configuração -&gt; Avançado -&gt; Sistema -&gt; Moeda</p> <p>Na lista de moedas instaladas você deve selecionar apenas as que deseja usar no sistema, para que ele não carregue opções desnecessárias.</p> <p>Neste exemplo iremos trabalhar com Real Brasileiro e Dólar Norte-Americano.</p> <h1 id="exibindo-moedas-na-vitrine">Exibindo moedas na vitrine</h1> <p>Por padrão, o sistema exibe apenas uma moeda na sua visão de loja, apenas a moeda padrão – informada durante a instalação do Magento.</p> <p>Para ter outras opções de moeda, você deve acessar:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Configuração -&gt; Geral -&gt; Configuração de Moedas [Opções e Moeda]</p> <p>No campo “Moedas Permitidas” serão listados todas as moedas do sistema, aquelas que você configurou anteriormente. Basta selecionar as opções que deseja disponibilizar em frontend.</p> <p>O campo “Moeda Base” é referente à cobrança dos produtos, como os clientes devem considerar a compra/pagamento dos itens, então mesmo visualizando em outra moeda o formato válido para pagamento é o da moeda base. Por padrão você tem apenas uma moeda base para todo o sistema, caso queira ter uma moeda base para cada website, você deve primeiro ir em:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Configuração -&gt; Catálogo -&gt; Catálogo [Preço]</p> <p>E alterar o escopo de preços para “Website”.</p> <p>Em seguida você deve reindexar os índices das tabelas conforme solicitado pelo sistema.</p> <p>Se você alterar o escopo para “website” durante a criação/edição de um produto, pode definir preços diferentes para o mesmo produto. (exemplo no vídeo)</p> <p>Já o campo “Exibir Moeda Padrão” influencia apenas na forma como seus produtos serão apresentados durante a navegação do usuário. Assim que ele entrar na sua loja, antes dele escolher o formato de moeda que deseja visualizar, qual a moeda será apresentada? Você decide neste campo.</p> <h2 id="fazendo-a-cotação">Fazendo a cotação</h2> <p>Não basta apenas selecionar as opções de moedas para o sistema, é preciso informar o valor cambial de cada nova cifra. Para isso você precisa acessar:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Gerenciar Moeda -&gt; Tarifas</p> <p>Alguns campos estarão em branco para você preencher manualmente, ou… basta clicar no botão [+ Importar]. E a cotação será importada automaticamente do serviço Webservicex.</p> <p>Se você estiver de acordo com o valor informado, basta clicar em Salvar.</p> <p>Agora que o sistema conhece os valores de cada moeda, ele deve ser exibido na visão da sua loja as opções para o cliente escolher como deseja visualizar os preços.</p> <h1 id="controle-de-câmbio">Controle de câmbio</h1> <p>Você provavelmente não deseja fazer esse controle manualmente, todo dia acessando o backend para atualizar os preços do dólar/euro/real, etc. Por isso vamos a mais algumas configurações, em:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Configuração -&gt; Geral -&gt; Configuração de Moedas [Webservicex]</p> <p>Você tem apenas um campo, no qual não precisa se preocupar.</p> <p>tempo conexao webservicex</p> <p>Este campo informa em segundos, por quanto tempo ele vai tentar uma conexão com o webservice da Webservicex para obter atualização dos valores. Mas você pode aumentar esse número caso queira uma garantia maior de resposta do servidores deles.</p> <p>Agora a configuração que realmente interessa fica em:</p> <p>No Backend do Magento, acesse o menu: Sistema -&gt; Configuração -&gt; Geral -&gt; Configuração de Moedas [Opções de Importação Agendadas]</p> <p>Aqui não tem muito o que explicar, é tudo bem sugestivo na verdade – sem truques.</p> <p>configuracoes de agendamento webservicex</p> <p>Basta “habilitar” o módulo. O serviço disponível é apenas o “Webservicex“, pelo menos até a versão 1.7.0.2 do Magento CE. A frequência normalmente será “Diariamente“, pois os valores são sempre atualizados. O horário é uma decisão mais administrativa, você pode fazer isso todo dia à meia-noite, ou então após o fechamento do pregão.</p> <p>Os últimos 3 (três) campos referentes ao campo email, são para os casos em que a cotação automática falhar – assim você pode ser avisado por email.</p> <h2 id="os-arquivos-de-layout">Os arquivos de layout</h2> <p>No template padrão do Magento, este campo de seleção de moedas é apresentado sempre na coluna da esquerda. Caso queira modificar isso, saiba que o arquivo responsável por ele é o directory.xml que fica em:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/design/frontend/base/default/layout/directory.xml
</code></pre></div></div> <p>E o arquivo currency.phtml é quem carrega as informações na tela:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/design/frontend/base/default/template/directory/currency.phtml
</code></pre></div></div> <p>Lembre-se de nunca alterar o arquivo em base/default, faça sempre uma cópia dele para default/default, ou então para seu template/tema customizado.</p> <p>E basicamente é isso que você precisa saber sobre o controle de moedas no Magento. Qualquer dúvida basta acessar o fórum da Escola Magento.</p> <p>Fonte: <a href="http://mariosam.com.br/magento/cotar-moedas/">http://mariosam.com.br/magento/cotar-moedas/</a></p> <h1 id="como-compactar-a-pasta-do-meu-projeto-">Como compactar a pasta do meu projeto ?</h1> <p>O script a seguir é um modelo para a execução do procedimento de backup a ser executado via terminal do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tar -cvpzf EMPRESA_$(date +%Y.%m.%d_%H.%M.%S).tgz ./DIRETORIO
</code></pre></div></div> <h1 id="como-descompactar-um-arquivo-">Como descompactar um arquivo ?</h1> <p>O script a seguir é um modelo para a execução do procedimento de backup a ser executado via terminal do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tar xvzf FILE.tgz
</code></pre></div></div> <h1 id="como-exportar-o-backup-do-banco-de-dados-">Como exportar o backup do banco de dados ?</h1> <p>O script a seguir é um modelo para a execução do procedimento de backup compactado a ser executado via terminal do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysqldump -h 'HOST' -u 'USER' -p'PASS' 'DBNAME' | gzip &gt; EMPRESA_$(date +%Y.%m.%d_%H.%M.%S).sql.gz
</code></pre></div></div> <h1 id="como-importar-o-backup-do-banco-de-dados-">Como importar o backup do banco de dados ?</h1> <p>O script a seguir é um modelo a ser executado via terminal do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gunzip FILE.sql.gz

mysql -h 'HOST' -u 'USER' -p 'DBNAME' &lt; 'FILE.sql';
</code></pre></div></div> <h1 id="como-alterar-a-url_base-do-magento-no-banco-de-dados-">Como alterar a URL_BASE do Magento no banco de dados ?</h1> <p>O script a seguir é um modelo a ser executado via terminal do servidor</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql -h 'HOST' -u 'USER' -p 'DBNAME' -e "\
    SELECT * FROM core_config_data WHERE path like '%secure/base_url%'; \
    UPDATE core_config_data SET value = 'http://SUA_URL/ambiente_01/' WHERE path like '%secure/base_url%'; \
    SELECT * FROM core_config_data WHERE path like '%secure/base_url%'; \
"
</code></pre></div></div> <h1 id="ativar-debug-do-template-no-backend">Ativar debug do template no backend</h1> <p>Edite o arquivo /app/code/core/Mage/Core/etc/system.xml</p> <p>Atualizando para</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;template_hints translate="label"&gt;
    &lt;label&gt;Template Path Hints&lt;/label&gt;
    &lt;frontend_type&gt;select&lt;/frontend_type&gt;
    &lt;source_model&gt;adminhtml/system_config_source_yesno&lt;/source_model&gt;
    &lt;sort_order&gt;20&lt;/sort_order&gt;
    &lt;show_in_default&gt;1&lt;/show_in_default&gt;
    &lt;show_in_website&gt;1&lt;/show_in_website&gt;
    &lt;show_in_store&gt;1&lt;/show_in_store&gt;
&lt;/template_hints&gt;
&lt;template_hints_blocks translate="label"&gt;
    &lt;label&gt;Add Block Names to Hints&lt;/label&gt;
    &lt;frontend_type&gt;select&lt;/frontend_type&gt;
    &lt;source_model&gt;adminhtml/system_config_source_yesno&lt;/source_model&gt;
    &lt;sort_order&gt;21&lt;/sort_order&gt;
    &lt;show_in_default&gt;1&lt;/show_in_default&gt;
    &lt;show_in_website&gt;1&lt;/show_in_website&gt;
    &lt;show_in_store&gt;1&lt;/show_in_store&gt;
&lt;/template_hints_blocks&gt;
</code></pre></div></div> <h1 id="sobre-como-cadastrar-o-peso-do-produto">Sobre como cadastrar o peso do produto</h1> <p>O método de entrega já vem como default o formato do peso como Kilos, caso tenha preenchido o peso do produto no formato de gramas na configuração do método deve alterar o Formato do Peso para Gramas</p> <p>Peso preenchido no formato “Default” em Kilos Para um peso de 80 gramas, para isso devemos informar 0.0800 Para um peso de 800 gramas, para isso devemos informar 0.8000 Para um peso de 1 kilo, para isso devemos informar 1 onde deve ser convertido pelo Magento para 1.0000</p> <p>Peso preenchido no formato “Alternativo” em gramas Para um peso de 80 gramas, para isso devemos informar 80.0000 Para um peso de 800 gramas, para isso devemos informar 800.0000 Para um peso de 1 kilo, para isso devemos informar 1000 onde deve ser convertido pelo Magento para 1000.0000</p> <h1 id="exibir-horário-corrente-no-backend">Exibir horário corrente no backend</h1> <p>Edite o arquivo /app/design/adminhtml/default/default/template/page/header.phtml</p> <p>Atualizando</p> <p>DE</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$this-&gt;formatDate(null, 'full')
</code></pre></div></div> <p>PARA</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$this-&gt;formatDate(null, 'full', true)
</code></pre></div></div> <h1 id="ativar-debug">Ativar debug</h1> <p>No Backend do Magento, acesse o menu: System -&gt; Configuration -&gt; Developer -&gt; Debug -&gt; Template Path Hints = Yes</p> <p>Para ser exibido a opção “Template Path Hints” em Debug, deve ser selecionado a configuração para o website, selecionando o mesmo no SelectBox “Configuration Scope:”</p> <h1 id="desabilitando-a-compilação-do-magento-pelo-código">Desabilitando a compilação do Magento pelo código</h1> <p>Para desabilitar a compilação sem ter acesso pelo admin do magento basta ir em /includes editar o arquivo chamado config.php comentando a linha abaixo com # na frente</p> <p>Com o compilador ligado</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>define('COMPILER_INCLUDE_PATH', dirname(__FILE__).DIRECTORY_SEPARATOR.'src');
</code></pre></div></div> <p>Com o compilador desligado</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#define('COMPILER_INCLUDE_PATH', dirname(__FILE__).DIRECTORY_SEPARATOR.'src');
</code></pre></div></div> <h1 id="forçar-recompilação-do-magento-pelo-código">Forçar Recompilação do Magento pelo código</h1> <p>A pasta que fica localizada dentro da pasta /includes chamada de SRC é onde se encontra todos os arquivos compilados pelo Magento, para forçar pelo código uma nova compilação do Magento, basta renomear essa pasta ou removela. Obs: (Recomendo antes só renomear e se tudo der certo e uma nova pasta SRC for criada automaticamente, ai sim pode remover ela)</p> <h2 id="obs-no-uso-do-compiler-do-magento">Obs. no uso do Compiler do Magento</h2> <p>No processo “Compilação” nunca apenas clique no botão “Ativar” pois pode ser ativado uma versão em Cache</p> <p>Sempre antes clique no botão “Executar o processo de compilação”, dessa forma em seguida deve ser ativado automaticamente o Compiler do Magento</p> <h1 id="como-limpar-o-cache-do-magento">Como limpar o cache do Magento?</h1> <p>Se você tiver feito alterações em sua loja Magento, e elas não aparecerão imediatamente, pode ser necessário que você limpe o cache. O Magento mantém seu cache em /var/cache localizado dentro do diretório de instalação do Magento. Assim, por exemplo, se o Magento é instalado na pasta principal public_html/, o cache será em public_html/var/cache Para limpar o cache, simplesmente apague tudo do diretório public_html/var/cache e recarregue seu site no seu browser. Para limpar todas as sessões, você também pode excluir tudo do diretório public_html/var/session.</p> <h1 id="como-depurar-problemas-magento-mysql">Como depurar problemas Magento MySQL</h1> <p>Assim como qualquer aplicação PHP moderna o Magento armazena a maioria de suas informações no banco de dados (exceto mídia e configurações XML).</p> <p>Assim, para a depuração de problemas no Magento é útil saber algumas coisas:</p> <ol> <li>Todas as consultas do MySQL podem ser registrados e analisados. Para este efeito, abra o arquivo lib/Varien/Db/Adapter/Pdo/Mysql.php e altere o valor da propriedade protegida $_debug para true, também a propriedade protegida $_logAllQuerie para true.</li> </ol> <p>Você também pode alterar o valor de US $_logQueryTime que é especialmente útil quando a depuração lentidão. Uma vez que você fizer essa alteração todas as consultas serão registradas no arquivo var/debug/sql.txt</p> <h1 id="como-adicionar-o-rastreamentotracking">Como adicionar o rastreamento(tracking)?</h1> <p>No Backend do Magento, acesse o menu: Sales -&gt; Order -&gt; Acesse o pedido em seguida clique no botão “Ship”, no bloco “Shipping Information” clque no botão “Add Tracking Number”, selecione o método de entrega e informe o número para rastreamento, adicione um comentário caso ache necessário e clique em “Submit Shipment”</p> <p>No Backend do Magento, na visualização do pedido no bloco “Shipping &amp; Handling Information” deve ser exibido o link “Track Order” onde clicando no mesmo deve ser aberto Popup apresentado o processo do rastreamento</p> <p>No frontend do Magento, acessando o menu: Minha conta -&gt; Meus pedidos -&gt; onde ao visualizar o pedido deve ser exibido o link “Rastrear o seu pedido” onde clicando no mesmo deve ser aberto Popup apresentado o processo do rastreamento</p> <h1 id="como-analisar-o-andamento-do-mysql">Como analisar o andamento do MySQL</h1> <p>Devido a demora da importação podemos efetuar analise do andamento do processamento no MySQL</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysqladmin -h 'localhost' -u 'root' -p status

mysql -h 'localhost' -u 'root' -p -e "\
    SET GLOBAL general_log = 1; \
    SET GLOBAL log_output = 'table'; \
    SELECT * from mysql.general_log; \
"

mysql -h 'localhost' -u 'root' -p -e "\
    SELECT VERSION(); \
    SELECT LAST_INSERT_ID(); \
    show global variables like '%show_compatibility_56%'; \
    show status like '%onn%'; \
    show processlist; \
    KILL 23429; \
"
</code></pre></div></div> <h1 id="como-redefinir-a-senha-do-administrador-em-magento">Como redefinir a senha do administrador em Magento?</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE admin_user SET password = MD5('NEWPASSWORD') WHERE username = 'ADMINUSERNAME';
</code></pre></div></div> <h1 id="exibir-cabeçalho-esta-é-uma-loja-de-demonstração-">Exibir cabeçalho “Esta é uma loja de demonstração. …”</h1> <p>No Backend do Magento, acesse o menu: System -&gt; Configuration -&gt; General -&gt; Design -&gt; HTML Head -&gt; Display demo store notice = YES</p> <h1 id="erro-404-página-não-encontrada">Erro 404 Página não encontrada</h1> <p>Geralmente é exibido a pagina 404 após a instalação de módulos, onde é necessário apenas se deslogar e logar novamente no sistema</p> <h1 id="modo-de-manutenção">Modo de manutenção</h1> <p>Para habilitar o modo de manutenção no Magento, basta criar um arquivo vazio na raiz de sua loja Magento nomeado como “maintenance.flag”</p> <h1 id="como-redefinir-a-senha-do-administrador-em-magento-1">Como redefinir a senha do administrador em Magento?</h1> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE admin_user SET password = MD5('123456a') WHERE username = 'admin';
</code></pre></div></div> <h1 id="problemas-com-caracteres">Problemas com caracteres</h1> <p>O erro de caracteres é gerado por definição de charset no servidor onde o mesmo deve ser configurado para aceitar qualquer charset</p> <p>Para alterar o charset no Apache no Ubuntu tente esse procedimento</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo nano /etc/apache2/conf.d/charset
</code></pre></div></div> <p>ou</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>grep -ri 'AddDefaultCharset' /etc/apache2

sudo nano /etc/apache2/conf-available/charset.conf
</code></pre></div></div> <p>Em seguida, comente a linha</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#AddDefaultCharset UTF-8
</code></pre></div></div> <p>salve e saia do arquivo</p> <p>Agora você precisa reiniciar o servidor apache usando o seguinte comando</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo /etc/init.d/apache2 restart
</code></pre></div></div> <p>Fonte: <a href="http://stackoverflow.com/questions/30088776/apache-2-4-x-override-charset-after-update-to-ubuntu-15-04">http://stackoverflow.com/questions/30088776/apache-2-4-x-override-charset-after-update-to-ubuntu-15-04</a></p> </div> </div> <hr> <div class="row"> <div class="col-md-12 text-center"> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */ var disqus_config = function () { this.page.url = 'http://mozg.com.br/magento/magento1'; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = ''; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function() { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = '//mozgbrasil.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript> <script id="dsq-count-scr" src="//mozgbrasil.disqus.com/count.js" async></script> </div> </div> </div> <hr> </div> </main> <footer class="bg-dark "> <div class="footer"> <div class="container"> <div class="row"> <div class="col-6 col-md"> <h3> Páginas </h3> <ul> <li> <a class="footer-link" href="/"> <i class=" icon"></i> Visão geral</a> </li> <li> <a class="footer-link" href="/sobre-nos/"> <i class=" icon"></i> Sobre</a> </li> <li> <a class="footer-link" href="/contato/"> <i class=" icon"></i> Contato</a> </li> <li> <a class="footer-link" href="/artigos/"> <i class=" icon"></i> Artigos</a> </li> <li> <a class="footer-link" href="/categorias/"> <i class=" icon"></i> Categorias</a> </li> <li> <a class="footer-link" href="/tags/"> <i class=" icon"></i> Tags</a> </li> </ul> </div> <div class="col-6 col-md"> <h3> Social </h3> <ul> <li><a class="footer-link" href="https://twitter.com/mozgbrasil"><i class="icon twitter"></i>Twitter</a></li> <li><a class="footer-link" href="https://www.youtube.com/channel/UCiXR9cKwxNKMehSnqXvhtug/videos"><i class="icon youtube"></i>YouTube</a></li> <li><a class="footer-link" href="https://www.facebook.com/mozgbrasil"><i class="icon facebook"></i>Facebook</a></li> <li><a class="footer-link" href="https://mozgbrasil.wordpress.com/"><i class="icon wordpress"></i>WordPress</a></li> <li><a class="footer-link" href="http://mozgbrasil.blogspot.com.br/"><i class="icon google"></i>Blogger</a></li> <li><a class="footer-link" href="http://mozg.negocio.site"><i class="icon google"></i>Google My Business</a></li> </ul> </div> <div class="col-6 col-md"> <h3> Widgets </h3> <ul> <li> <a class="footer-link" href="/sitemap.xml"> <i class="icon sitemap"></i>Sitemap</a> </li> <li> <a class="footer-link" href="/feed.xml">RSS</a> </li> <!-- Load Facebook SDK for JavaScript --> <div id="fb-root"></div> <script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v2.5&appId=190289028000894"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script> <!-- https://dev.twitter.com/web/javascript/loading --> <script type="text/javascript"> window.twttr = (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {}; if (d.getElementById(id)) return t; js = d.createElement(s); js.id = id; js.src = "https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); t._e = []; t.ready = function(f) { t._e.push(f); }; return t; }(document, "script", "twitter-wjs")); </script> <li> <!-- https://buttons.github.io/ --> <!-- Place this tag in your head or just before your close body tag. --> <script async defer src="https://buttons.github.io/buttons.js"></script> <!-- Place this tag where you want the button to render. --> <a class="github-button" href="https://github.com/mozgbrasil" data-size="normal" data-show-count="true" aria-label="Follow @mozgbrasil on GitHub">Follow @mozgbrasil</a> </li> <li> <!-- https://developers.facebook.com/docs/plugins/like-button?locale=pt_BR --> <div class="fb-like" data-href="https://www.facebook.com/mozgbrasil" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div> </li> <li> <!-- https://developers.facebook.com/docs/plugins/send-button?locale=pt_BR --> <div class="fb-send" data-colorscheme="dark" data-href="http://mozg.com.br/magento/magento1"></div> </li> <li> <!-- https://dev.twitter.com/web/follow-button --> <a class="twitter-follow-button" href="https://twitter.com/mozgbrasil">Follow @mozgbrasil</a> </li> <li> <!-- https://dev.twitter.com/web/tweet-button --> <a class="twitter-share-button" href="http://mozg.com.br/magento/magento1">Tweet</a> </li> <li> <!-- https://developer.linkedin.com/plugins/share --> <script src="//platform.linkedin.com/in.js" type="text/javascript"></script> <script type="IN/Share" data-url="http://mozg.com.br/magento/magento1" data-counter="right"></script> </li> <li> <!-- https://developers.google.com/+/web/+1button/ --> <div class="g-plusone" data-annotation="bubble" data-size="medium" data-callback="console.log('+1');" data-href="http://mozg.com.br/magento/magento1"></div> </li> </ul> </div> <div class="col-6 col-md"> <h3> Repos</h3> <ul> <li><a class="footer-link" href="https://github.com/mozgbrasil/">GitHub</a></li> <li><a class="footer-link" href="https://gitlab.com/mozgbrasil">Gitlab</a></li> <li><a class="footer-link" href="https://bitbucket.org/mozgbrasil/">Bitbucket</a></li> <li><a class="footer-link" href="https://packagist.org/packages/mozgbrasil/">Packagist</a></li> <li><a class="footer-link" href="https://www.npmjs.com/~mozg">NPM</a></li> <li><a class="footer-link" href="https://launchpad.net/~mozgbrasil">Launchpad</a></li> </ul> </div> <div class="col-6 col-md"> <h3> Parceiros </h3> <ul> <li><a class="footer-link" href="https://www.cerebrum.com.br/"><i class="icon sitemap"></i>CEREBRUM</a></li> <li><a class="footer-link" href="https://www.comunidademagento.com.br/">Comunidade Magento</a></li> <li><a class="footer-link" href="https://magento.com/">Magento</a></li> <li><a class="footer-link" href="http://www.cloudways.com/en/?id=35053">Cloudways</a></li> <li><a class="footer-link" href="https://reactjs.org/"><i class="icon sitemap"></i>React</a></li> </ul> </div> </div> <!--/.row--> </div> <!--/.container--> </div> <div class="footer-bottom"> <div class="container"> <div class="row"> <div class="col"> <i class="fas fa-medal"></i> Copyright © 2016-2025 MOZG </div> <div class="col "></div> </div> </div> </div> <div class="container text-white"> <div class="row"> <div class="col"> Desenvolvido utilizando <a href="https://jekyllrb.com/"> <img alt="Jekyll" src="/assets/images/jekyll-logo.webp" width="100"> </a> </div> <div class="col "> Orgulhosamente hospedado por <a href="https://github.com"> <img alt="GitHub • Social coding" src="/assets/images/github-logo.png" width="100"> </a> </div> </div> </div> </footer> </body> </body> </html>
